% https://wiki.aalto.fi/display/Aaltothesis/Aalto+Thesis+LaTeX+Template
% https://version.aalto.fi/gitlab/latex/aaltologo/tree/master

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                            %%
%% thesistemplate.tex version 3.20 (2018/08/31)                               %%
%% The LaTeX template file to be used with the aaltothesis.sty (version 3.20) %%
%% style file.                                                                %%
%% This package requires pdfx.sty v. 1.5.84 (2017/05/18) or newer.            %%
%%                                                                            %%
%% This is licensed under the terms of the MIT license below.                 %%
%%                                                                            %%
%% Written by Luis R.J. Costa.                                                %%
%% Currently developed at the Learning Services of Aalto University School of %%
%% Electrical Engineering by Luis R.J. Costa since May 2017.                  %%
%%                                                                            %%
%% Copyright 2017-2018, by Luis R.J. Costa, luis.costa@aalto.fi,              %%
%% Copyright 2017-2018 Swedish translations in aaltothesis.cls by Elisabeth   %%
%% Nyberg, elisabeth.nyberg@aalto.fi and Henrik Wall√©n,                       %%
%% henrik.wallen@aalto.fi.                                                    %%
%% Copyright 2017-2018 Finnish documentation in the template opinnatepohja.tex%%
%% by Perttu Puska, perttu.puska@aalto.fi, and Luis R.J. Costa.               %%
%% Copyright 2018 English template thesistemplate.tex by Luis R.J. Costa.     %%
%% Copyright 2018 Swedish template kandidatarbetsbotten.tex by Henrik Wallen. %%
%%                                                                            %%
%% Permission is hereby granted, free of charge, to any person obtaining a    %%
%% copy of this software and associated documentation files (the "Software"), %%
%% to deal in the Software without restriction, including without limitation  %%
%% the rights to use, copy, modify, merge, publish, distribute, sublicense,   %%
%% and/or sell copies of the Software, and to permit persons to whom the      %%
%% Software is furnished to do so, subject to the following conditions:       %%
%% The above copyright notice and this permission notice shall be included in %%
%% all copies or substantial portions of the Software.                        %%
%% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR %%
%% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,   %%
%% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL    %%
%% THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER %%
%% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING    %%
%% FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER        %%
%% DEALINGS IN THE SOFTWARE.                                                  %%
%%                                                                            %%
%%                                                                            %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                            %%
%%                                                                            %%
%% An example for writting your thesis using LaTeX                            %%
%% Original version and development work by Luis Costa, changes to the text   %% 
%% in the Finnish template by Perttu Puska.                                   %%
%% Support for Swedish added 15092014                                         %%
%% PDF/A-b support added on 15092017                                          %%
%% PDF/A-2 support added on 24042018                                          %%
%%                                                                            %%
%% This example consists of the files                                         %%
%%         thesistemplate.tex (version 3.20) (for text in English)            %%
%%         opinnaytepohja.tex (version 3.20) (for text in Finnish)            %%
%%         kandidatarbetsbotten.tex (version 1.00) (for text in Swedish)      %%
%%         aaltothesis.cls (versio 3.20)                                      %%
%%         kuva1.eps (graphics file)                                          %%
%%         kuva2.eps (graphics file)                                          %%
%%         kuva1.jpg (graphics file)                                          %%
%%         kuva2.jpg (graphics file)                                          %%
%%         kuva1.png (graphics file)                                          %%
%%         kuva2.png (graphics file)                                          %%
%%         kuva1.pdf (graphics file)                                          %%
%%         kuva2.pdf (graphics file)                                          %%
%%                                                                            %%
%%                                                                            %%
%% Typeset in Linux either with                                               %%
%% pdflatex: (recommended method)                                             %%
%%             $ pdflatex thesistemplate                                      %%
%%             $ pdflatex thesistemplate                                      %%
%%                                                                            %%
%%   The result is the file thesistemplate.pdf that is PDF/A compliant, if    %%
%%   you have chosen the proper \documenclass options (see comments below)    %%
%%   and your included graphics files have no problems.
%%                                                                            %%
%% Or                                                                         %%
%% latex: (this method is not recommended)                                    %%
%%             $ latex thesistemplate                                         %%
%%             $ latex thesistemplate                                         %%
%%                                                                            %%
%%   The result is the file thesistemplate.dvi, which is converted to ps      %%
%%   format as follows:                                                       %%
%%                                                                            %%
%%             $ dvips thesistemplate -o                                      %%
%%                                                                            %%
%%   and then to pdf as follows:                                              %%
%%                                                                            %%
%%             $ ps2pdf thesistemplate.ps                                     %%
%%                                                                            %%
%%   This pdf file is not PDF/A compliant. You must must make it so using,    %%
%%   e.g., Acrobat Pro or PDF-XChange.                                        %%
%%                                                                            %%
%%                                                                            %%
%% Explanatory comments in this example begin with the characters %%, and     %%
%% changes that the user can make with the character %                        %%
%%                                                                            %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%
%% WHAT is PDF/A
%%
%% PDF/A is the ISO-standardized version of the pdf. The standard's goal is to
%% ensure that he file is reproducable even after a long time. PDF/A differs
%% from pdf in that it allows only those pdf features that support long-term
%% archiving of a file. For example, PDF/A requires that all used fonts are
%% embedded in the file, whereas a normal pdf can contain only a link to the
%% fonts in the system of the reader of the file. PDF/A also requires, among
%% other things, data on colour definition and the encryption used.
%% Currently three PDF/A standards exist:
%% PDF/A-1: based on PDF 1.4, standard ISO19005-1, published in 2005.
%%          Includes all the requirements essential for long-term archiving.
%% PDF/A-2: based on PDF 1.7, standard ISO19005-2, published in 2011.
%%          In addition to the above, it supports embedding of OpenType fonts,
%%          transparency in the colour definition and digital signatures.
%% PDF/A-3: based on PDF 1.7, standard ISO19005-3, published in 2012.
%%          Differs from the above only in that it allows embedding of files in
%%          any format (e.g., xml, csv, cad, spreadsheet or wordprocessing
%%          formats) into the pdf file.
%% PDF/A-1 files are not necessarily PDF/A-2 -compatible and PDF/A-2 are not
%% necessarily PDF/A-1 -compatible.
%% All of the above PDF/A standards have two levels:
%% b: (basic) requires that the visual appearance of the document is reliably
%%    reproduceable.
%% a (accessible) in addition to the b-level requirements, specifies how
%%   accessible the pdf file is to assistive software, say, for the physically
%%   impaired.
%% For more details on PDF/A, see, e.g., https://en.wikipedia.org/wiki/PDF/A
%%
%%
%% WHICH PDF/A standard should my thesis conform to?
%%
%% Primarily to the PDF/A-1b standard. All the figures and graphs typically
%% use in thesis work do not require transparency features, a basic '2-D'
%% visualisation suffices. The font to be used are specified in this template
%% and they should not be changed. However, if you have figures where
%% transparency characteristics matter, use the PDF/A-2b standard. Do not use
%% the PDF/A-3b standard for your thesis.
%%
%%
%% WHAT graphics format can I use to produce my PDF/A compliant file?
%%
%% When using pdflatex to compile your work, use jpg, png or pdf files. You may
%% have PDF/A compliance problems with figures in pdf format. Do not use PDF/A
%% compliant graphics files.
%% If you decide to use latex to compile your work, the only acceptable file
%% format for your figure is eps. DO NOT use the ps format for your figures.

%% USE one of these:
%% * the first when using pdflatex, which directly typesets your document in the
%%   chosen pdf/a format and you want to publish your thesis online,
%% * the second when you want to print your thesis to bind it, or
%% * the third when producing a ps file and a pdf/a from it.
%%
\documentclass[english, 12pt, a4paper, elec, utf8, a-2b, online]{aaltothesis}
%\documentclass[english, 12pt, a4paper, elec, utf8, a-1b]{aaltothesis}
%\documentclass[english, 12pt, a4paper, elec, dvips, online]{aaltothesis}



%% Use the following options in the \documentclass macro above:
%% your school: arts, biz, chem, elec, eng, sci
%% the character encoding scheme used by your editor: utf8, latin1
%% thesis language: english, finnish, swedish
%% make an archiveable PDF/A-1b or PDF/A-2b compliant file: a-1b, a-2b
%%                    (with pdflatex, a normal pdf containing metadata is
%%                     produced without the a-*b option)
%% typeset in symmetric layout and blue hypertext for online publication: online
%%            (no option is the default, resulting in a wide margin on the
%%             binding side of the page and black hypertext)
%% two-sided printing: twoside (default is one-sided printing)
%%

\usepackage{graphicx}
%% Math fonts, symbols and formatting;
\usepackage{amsfonts,amssymb,amsbsy,amsmath}
\usepackage{siunitx}

\usepackage{import}
\usepackage{subcaption}
\usepackage[thinc]{esdiff}
\usepackage{cite}
\usepackage{bm}
\usepackage{algorithm} 
\usepackage{algpseudocode} 
\usepackage{booktabs}
\graphicspath{{images/}}

%% Edit to conform to your degree programme
\degreeprogram{Automation and Electrical Engineering}
%% Your major
\major{Control, Robotics and Autonomous Systems}
%% Major subject code
\code{ELEC3025}
%% Choose one: Bsc, Msc, Lic
\univdegree{MSc}
%% Your name
\thesisauthor{Joni Airaksinen}
%%

%% Your thesis title comes here and possibly again together with the Finnish or
%% Swedish abstract. Do not hyphenate the title, and avoid writing too long a
%% title. Should LaTeX typeset a long title unsatisfactorily, you might have to
%% force a linebreak using the \\ control characters.
%% In this case...
%% Remember, the title should not be hyphenated!
%% A possible "and" in the title should not be the last word in the line, it
%% begins the next line.
%% Specify the title again without the linebreak characters in the optional
%% argument in box brackets. This is done because the title is part of the 
%% metadata in the pdf/a file, and the metadata cannot contain linebreaks.
%%
\thesistitle{Automatic Torque Ripple Reduction in Permanent Magnet Machines}
\place{Espoo}
\date{25.6.2020} %% The date for the thesis is the day it is presented


%% Thesis supervisor
%% Note the "\" character in the title after the period and before the space
%% and the following character string.
%% This is because the period is not the end of a sentence after which a
%% slightly longer space follows, but what is desired is a regular interword
%% space.
\supervisor{Prof.\ Marko Hinkkanen}

%% Advisor(s)---two at the most---of the thesis. Check with your supervisor how
%% many official advisors you can have.
\advisor{MSc Sina Khamehchi}
\advisor{MSc Victor Mukherjee}
%%

%% Aaltologo: syntax:
%% \uselogo{aaltoRed|aaltoBlue|aaltoYellow|aaltoGray|aaltoGrayScale}{?|!|''}
%% The logo language is set to be the same as the thesis language.
\uselogo{aaltoRed}{''}
%%

%% The English abstract:
%% All the details (name, title, etc.) on the abstract page appear as specified
%% above.
%% Thesis keywords:
%% Note! The keywords are separated using the \spc macro
\keywords{Iterative learning control (ILC)\spc permanent magnet synchronous motor (PMSM)\spc Q-learning\spc torque ripple}
%%

%% The abstract text. This text is included in the metadata of the pdf file as well
%% as the abstract page.
\thesisabstract{
This thesis investigates the feasibility of Q-learning for torque ripple reduction with industrial permanent magnet (PM) machines. A practical Q-learning based compensator is implemented and the ripple reduction performance is compared against conventional PI speed control and iterative learning control (ILC). Performance of the Q-learning based method is evaluated by rigorous simulations and experiments. The results confirm the applicability of the Q-learning based method. The compensation performance is similar to ILC. In certain operating conditions, the Q-learning based method can outperform the ILC compensator.
}
% Your abstract in English. Keep the abstract short. The abstract explains your 
%research topic, the methods you have used, and the results you obtained. 

%% Copyright text. Copyright of a work is with the creator/author of the work
%% regardless of whether the copyright mark is explicitly in the work or not.
%% You may, if you wish, publish your work under a Creative Commons license (see
%% creaticecommons.org), in which case the license text must be visible in the
%% work. Write here the copyright text you want. It is written into the metadata
%% of the pdf file as well.
%% Syntax:
%% \copyrigthtext{metadata text}{text visible on the page}
%% 
%% In the macro below, the text written in the metadata must have a \noexpand
%% macro before the \copyright special character, and macros (\copyright and
%% \year here) must be separated by the \ character (space chacter) from the
%% text that follows. The macros in the argument of the \copyrighttext macro
%% automatically insert the year and the author's name. (Note! \ThesisAuthor is
%% an internal macro of the aaltothesis.cls class file).
%% Of course, the same text could have simply been written as
%% \copyrighttext{Copyright \noexpand\copyright\ 2018 Eddie Engineer}
%% {Copyright \copyright{} 2018 Eddie Engineer}
%%
\copyrighttext{Copyright \noexpand\copyright\ \number\year\ \ThesisAuthor}
{Copyright \copyright{} \number\year{} \ThesisAuthor}

%% You can prevent LaTeX from writing into the xmpdata file (it contains all the 
%% metadata to be written into the pdf file) by setting the writexmpdata switch
%% to 'false'. This allows you to write the metadata in the correct format
%% directly into the file thesistemplate.xmpdata.
%\setboolean{writexmpdatafile}{false}

%% All that is printed on paper starts here
\begin{document}

%% Create the coverpage
\makecoverpage

%% Typeset the copyright text.
%% If you wish, you may leave out the copyright text from the human-readable
%% page of the pdf file. This may seem like a attractive idea for the printed
%% document especially if "Copyright (c) yyyy Eddie Engineer" is the only text
%% on the page. However, the recommendation is to print this copyright text.
\makecopyrightpage

%% Note that when writting your thesis in English, place the English abstract
%% first followed by the possible Finnish or Swedish abstract.

%% Abstract text
%% All the details (name, title, etc.) on the abstract page appear as specified
%% above.


%Your abstract in English. Keep the abstract short. The abstract explains your
%research topic, the methods you have used, and the results you obtained.  

%The abstract text of this thesis is written on the readable abstract page as
%well as into the pdf file's metadata via the $\backslash$thesisabstract macro
%(see above). Write here the text that goes onto the readable abstract page.
%You can have special characters, linebreaks, and paragraphs here. Otherwise,
%this abstract text must be identical to the metadata abstract text.

%If your abstract does not contain special characters and it does not require
%paragraphs, you may take advantage of the abstracttext macro (see the comment
%below).
\begin{abstractpage}[english]
This thesis investigates the feasibility of Q-learning for torque ripple reduction with industrial permanent magnet (PM) machines. A practical Q-learning based compensator is implemented and the ripple reduction performance is compared against conventional PI speed control and iterative learning control (ILC). Performance of the Q-learning based method is evaluated by rigorous simulations and experiments. The results confirm the applicability of the Q-learning based method. The compensation performance is similar to ILC. In certain operating conditions, the Q-learning based method can outperform the ILC compensator.
\end{abstractpage}

%% The text in the \thesisabstract macro is stored in the macro \abstractext, so
%% you can use the text metadata abstract directly as follows:
%%
%\begin{abstractpage}[english]
%	\abstracttext{}
%\end{abstractpage}

%% Force a new page so that the possible Finnish or Swedish abstract does not
%% begin on the same page
\newpage

%% Abstract in Finnish.
\thesistitle{V√§√§nt√∂momenttiv√§r√§htelyn automaattinen kompensointi kestomagneettitahtikoneissa}
\supervisor{Prof.\ Marko Hinkkanen}
\advisor{MSc Sina Khamehchi}
\advisor{MSc Victor Mukherjee}
\degreeprogram{Automaatio ja s√§hk√∂tekniikka}
\major{Control, Robotics and Autonomous Systems}
%% The keywords need not be separated by \spc now.
\keywords{Iteratiivinen oppiva s√§√§t√∂ (ILC)\spc kestomagneettitahtikone\spc Q-oppiminen\spc v√§r√§htely\spc v√§√§nt√∂momentti}
%% Abstract text
\begin{abstractpage}[finnish]
T√§ss√§ ty√∂ss√§ tutkitaan, mik√§li Q-oppimista voidaan hy√∂dynt√§√§ kestomagneettitahtikoneiden yhteydess√§ esiintyvien v√§√§nt√∂momenttiv√§r√§hdysten minimointiin. Q-oppimiseen pohjautuvan kompensaattorin suorituskyky√§ verrataan tavanomaiseen PI-nopeuss√§√§t√∂√∂n ja iteratiivisesti oppivaan s√§√§t√∂√∂n (ILC). V√§√§nt√∂momenttiv√§r√§hdysten kompensointia testataan sek√§ kokeellisesti ett√§ simuloimalla. Tulokset vahvistavat menetelm√§n soveltuvuuden. Q-oppimiseen pohjautuvan kompensaattorin suorituskyky on verrannolinen ILC:hen ja tietyiss√§ toimintapisteiss√§ metodi pystyy suoriutumaan paremmin kuin ILC.
\end{abstractpage}

%% Force new page so that the Swedish abstract starts from a new page
\newpage


%% Preface
%% This section is optional. Remove it if you do not want a preface.
\mysection{Preface}
I am grateful to my thesis supervisor Prof. Marko Hinkkanen and instructors Sina Khamehchi and Victor Mukherjee for giving me valuable feedback and guidance. Furthermore, I would like to also thank Samuli Heikkil√§ and Juha Virtakoivu for helping me with practical matters. Finally, I would like to thank Marko Huikuri, Antti Vilhunen, Teppo Pirttioja and everyone else who helped me to make the thesis better.\\

\vspace{5cm}
Otaniemi, 25.6.2020

\vspace{5mm}
{\hfill Joni\ Airaksinen \hspace{1cm}}

%% Force a new page after the preface
\newpage

%% Table of contents. 
\thesistableofcontents

%% Symbols and abbreviations
\mysection{Symbols and abbreviations}

\subsection*{Symbols}

\begin{tabular}{ll}
$B$           & viscous damping coefficient \\
$dq$          & direct-quadrature reference frame \\
$f_N$         & nominal frequency \\
$G_t$         & discounted reward \\
$I_N$         & nominal current \\
$i_{d}$, $i_{q}$ & stator currents of dq-axes \\
$i^*_{q}$     & q-axis current reference \\
$J$           & total inertia \\
$k_t$         & torque coefficient \\
$N_p$         & number of poles \\
$N_s$         & number of stator slots \\
$N_a$         & number of actions \\
$P_N$         & nominal power \\
$p$           & number of polepairs \\
$r_t$         & single reward \\
$T_N$         & nominal torque \\
$T_m$         & electromagnetic torque \\
$T_{cog}$     & cogging torque \\
$T_{max}$     & periodical maximum of pulsating torque \\
$T_l$         & load torque \\
$T_N$         & torque related to single harmonic \\
$T_\Delta$    & torque related to current measurement errors \\
$U_N$         & nominal voltage \\
$\alpha$      & forgetting factor or learning factor \\
$\gamma$      & discount factor \\
$\Gamma$      & ILC gain \\
$\epsilon$    & probability value \\
$\lambda$     & reward weighting factor \\
$\omega_N$    & nominal speed \\
$\omega_m$    & mechanical angular speed of the shaft \\
$\theta_e$    & electrical rotor angle \\
$\theta_m$    & mechanical rotor angle \\
$\theta$      & rotor angle, $\theta_e$ / $\theta_m$ \\
$\Phi$        & ILC gain \\
$\psi_{d}$, $\psi_{q}$ & stator flux linkages of dq-axes \\
$\psi_f$      & rotor flux linkage \\
\end{tabular}

\subsection*{Operators}

\begin{tabular}{ll}
$\displaystyle\frac{\mbox{d}}{\mbox{d} t}$ & derivative with respect to 
variable $t$\\[3mm]
$\sum_i $                       & sum over index $i$\\
$| a | $                         & absolute value of a scalar\\
lcm$({a,b})$ & least common multiple between a and b \\
$\leftarrow$ & assignment \\
\end{tabular}

\subsection*{Abbreviations}

\begin{tabular}{ll}
AC         & alternating current \\
DC         & direct current \\
FEA        & finite element analysis \\
FEM        & finite element method \\
FFT        & fast Fourier transform \\
ILC        & iterative learning control \\
MDP        & Markov decision process \\
MMF        & magnetomotive force \\
PI         & proportional integral \\
PM         & permanent magnet \\
PMSM       & permanent magnet synchronous motor \\
PMW        & pulse width modulation \\
RAM        & random access memory \\
RL         & reinforcement learning \\
SyRM       & synchronous reluctance motor \\
\end{tabular}

%% \clearpage is similar to \newpage, 
%% but it also flushes the floats (figures and tables).
\cleardoublepage

%% Text body begins.
\import{chapters/}{Introduction.tex}
\import{chapters/}{Torque-ripple.tex}
\import{chapters/}{Background.tex}
\import{chapters/}{ILC.tex}
\import{chapters/}{Q-learning.tex}
\import{chapters/}{Simulation-results.tex}
\import{chapters/}{Experimental1.tex}
\import{chapters/}{Experimental2.tex}
\import{chapters/}{Summary.tex}

%% Bibliography
\thesisbibliography
\bibliographystyle{myieeetran}
\bibliography{bibliography.bib}

\end{document}
